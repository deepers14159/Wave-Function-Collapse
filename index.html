<!DOCTYPE html>
<html lang="en-US">

<head>
  <title>Gen3</title>
  <script src="create.js"></script>
  <script src="draw.js"></script>
  <script src="utility.js"></script>
  <script src="tile.js"></script>
  <script src="init.js"></script>
  <script type="text/javascript">

    var ctx;
    var fps = 60;
    var updateLoop;
    var canvasH;
    var canvasW;
    var up = false;
    var down = false;
    var left = false;
    var right = false;
    var space = false;
    var mouse = false;
    var mouseX;
    var mouseY;
    var size = {x : 0, y : 0, px : 30};

    var c1 = "#AA00AA";
    var c2 = "#999999";
    var c3 = "#333333";
    var c4 = "#009999";
    var c5 = "#990099";
    var c6 = "#999900";
    var rawSource = [

                    [[c3, c3, c3, c3],
                    [c3, c2, c1, c3],
                    [c3, c4, c5, c3],
                    [c3, c3, c3, c3]],

                    [[c3, c3, c3, c3],
                    [c3, c2, c1, c3],
                    [c3, c4, c5, c3],
                    [c3, c3, c3, c3]]

                    ];

    /*var rawSource = [[c1, c1, c1, c1],
                    [c2, c2, c2, c2],
                    [c3, c3, c3, c3],
                    [c2, c2, c2, c2]];*/

    document.onkeydown =
    function mRect(e)
    {
      e = e || window.event;

      if (e.keyCode == '68' )
      {
        right = true;
      }

      if (e.keyCode == '65' )
      {
        left = true;
      }
      if (e.keyCode == '83' )
      {
        up = true;
      }
      if (e.keyCode == '87' )
      {
        down = true;
      }
      if (e.keyCode == '32' )
      {
        space = true;
        location.reload();
      }
    }
    document.onkeyup =
    function mRect(e)
    {
      e = e || window.event;
      if (e.keyCode == '68' )
      {
        right = false;
      }

      if (e.keyCode == '65' )
      {
        left = false;
      }
      if (e.keyCode == '83' )
      {
        up = false;
      }

      if (e.keyCode == '87' )
      {
        down = false;
      }
      if (e.keyCode == '32' )
      {
        space = false;
      }
    }
    function sizeAdjust()
    {
      canvas = document.getElementById("mycanvas");
      canvasW = window.innerWidth
      || document.documentElement.clientWidth
      || document.body.clientWidth;
      canvasH = window.innerHeight
      || document.documentElement.clientHeight
      || document.body.clientHeight;
      canvasH = canvasH - 15;
      canvasW = canvasW - 5;
      canvasH = canvasH - (canvasH % 2);
      canvasW = canvasW - (canvasW % 2);
      if(canvasW > 1500)
      canvasW = 1500;
      if(canvasH > 800)
      canvasH = 800;
      if(canvas.width != canvasW)
      {
        canvas.width = canvasW;
      }
      if(canvas.height != canvasH)
      {
        canvas.height = canvasH;
      }
    }

    window.onload =
    function Game()
    {
      sizeAdjust();
      document.body.style.marginTop = 0;
      document.body.style.marginLeft = 0;
      document.body.style.marginBottom = 0;
      document.body.style.marginUp = 0;

      this.ctx = document.getElementById("mycanvas").getContext("2d");
      init();
      updateLoop = setInterval(function() {update();} , 1000/fps);
    }
    document.onmousedown =
    function mousedown(e)
    {
      e = e || window.event;
      mouse = true;
    }
    document.onmouseup =
    function mouseup(e)
    {
      e = e || window.event;
      mouse = false;
    }
    window.addEventListener('mousemove', function (e) {
      canvas = document.getElementById("mycanvas");
      mouseX = e.pageX;
      mouseY = e.pageY;
    })
  </script>
</head>
<body style="background-color:black" >
  <canvas id="mycanvas"  height="600" width="500" ></canvas>
</body>
</html>
